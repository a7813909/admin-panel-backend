// src/server.ts
    // –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–≥–æ Express-—Å–µ—Ä–≤–µ—Ä–∞. –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ë–î –∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–∞.
    import app from './app';       // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ Express-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    import config from './config';   // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    import logger from './utils/logger'; // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à –ª–æ–≥–≥–µ—Ä
    import prisma from './db';       // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à —ç–∫–∑–µ–º–ø–ª—è—Ä Prisma Client

    // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    async function bootstrap() {
      try {
        // --- 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö ---
        // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Prisma (–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –∫ PostgreSQL).
        // –ï—Å–ª–∏ connection string –≤ .env –Ω–µ–≤–µ—Ä–Ω–∞, —ç—Ç–æ –≤—ã–±—Ä–æ—Å–∏—Ç –æ—à–∏–±–∫—É.
        await prisma.$connect();
        logger.info('üéâ Successfully connected to the database!');

        // --- 2. –ó–∞–ø—É—Å–∫ Express-—Å–µ—Ä–≤–µ—Ä–∞ ---
        // –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–º –ø–æ—Ä—Ç—É.
        app.listen(config.port, () => {
          logger.info(`üöÄ Server running on port ${config.port} (http://localhost:${config.port})`);
          logger.info(`Environment: ${process.env.NODE_ENV || 'development'}`);
          // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—é–¥–∞ –¥—Ä—É–≥–∏–µ –ø–æ–ª–µ–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
        });
      } catch (error) {
        // –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –ë–î –∏–ª–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
        logger.error('‚ùå FATAL ERROR: Failed to start the server.', error);
        process.exit(1); // –í—ã—Ö–æ–¥–∏–º –∏–∑ Node.js –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å –∫–æ–¥–æ–º –æ—à–∏–±–∫–∏ 1
      }
    }

    // –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    bootstrap();

    // --- –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ ---
    // –≠—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ –¥–ª—è "–∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –ª–æ–≤–∏—Ç—å –Ω–µ—É—á—Ç–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
    // –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å —Ä–∞–±–æ—Ç—É –∏–ª–∏ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö.

    // –ü–µ—Ä–µ—Ö–≤–∞—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π (uncaught exceptions)
    process.on('uncaughtException', (error) => {
      logger.error('üí• UNCAUGHT EXCEPTION! Shutting down...', error);
      process.exit(1); // –ó–∞–≤–µ—Ä—à–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å, —Ç–∞–∫ –∫–∞–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞—Ä—É—à–µ–Ω–æ
    });

    // –ü–µ—Ä–µ—Ö–≤–∞—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤ (unhandled rejections)
    process.on('unhandledRejection', (reason, promise) => {
      logger.error('üö® UNHANDLED REJECTION! Shutting down...', reason, promise);
      // –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Ç—É—Ç —á–∞—Å—Ç–æ —Ä–µ–∞–ª–∏–∑—É—é—Ç "graceful shutdown" (–ø–ª–∞–≤–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ)
      // —á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —Ç–µ–∫—É—â–∏–º –∑–∞–ø—Ä–æ—Å–∞–º, –Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –ø–æ–∫–∞ —Ç–æ–∂–µ –≤—ã—Ö–æ–¥–∏–º.
      process.exit(1);
    });